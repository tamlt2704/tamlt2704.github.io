<html xmlns="http://www.w3.org/1999/html">

<head>

  <title>Leaflet</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <style>
    .fixed{
        position:fixed;
        top:10%;
        right:20%;
        width:10px;
        height: 10px;
        z-index:1001;
        background: transparent;
        border: none;
    }
    .main-map {
      z-index:1000;
      width: 100%;
      height: 100%;
    }
  </style>
</head>

<body>

  <div id="mapid" class="main-map"></div>
  <div id="main-menu" class="fixed">
    <input id="bus-number" placeholder="bus service number"> </input>
  </div>

    <script>
    $(document).ready(function(){
        var map = L.map('mapid').setView([21.028511, 105.804817], 12);

        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
          id: 'mapbox.streets'
        }).addTo(map);

        var bus_1_r1 = [
            new L.LatLng(20.949808, 105.74740199999997),
            new L.LatLng(20.9520666666667, 105.751216666667),
            new L.LatLng(20.954073, 105.75390100000004),
            new L.LatLng(20.958085, 105.75917900000002),
            new L.LatLng(20.96017, 105.761888),
            new L.LatLng(20.9620333333333, 105.76428333333297),
            new L.LatLng(20.964783333333333, 105.76778333333334),
            new L.LatLng(20.96755, 105.771383333333),
            new L.LatLng(20.969518, 105.77386000000001),
            new L.LatLng(20.972531, 105.77752499999997),
            new L.LatLng(20.975483333333333, 105.78154999999992),
            new L.LatLng(20.979275, 105.78645400000005),
            new L.LatLng(20.980401, 105.78790000000004),
            new L.LatLng(20.983446, 105.79166199999997),
            new L.LatLng(20.985883, 105.794981),
            new L.LatLng(20.988163, 105.79820700000005),
            new L.LatLng(20.990466666666666, 105.80138333333),
            new L.LatLng(20.993583333333333, 105.80579999999998),
            new L.LatLng(20.9959333333333, 105.80925000000002),
            new L.LatLng(20.9999166666667, 105.81523333333303),
            new L.LatLng(21.0071333333333, 105.82313333333298),
            new L.LatLng(21.0111, 105.82533333333299),
            new L.LatLng(21.01581, 105.82827500000008),
            new L.LatLng(21.019363, 105.83408400000008),
            new L.LatLng(21.019127, 105.83798200000001),
            new L.LatLng(21.023285, 105.84142900000006),
            new L.LatLng(21.025549, 105.84141999999997),
            new L.LatLng(21.026183, 105.84640200000001),
            new L.LatLng(21.0266, 105.84761666666702),
            new L.LatLng(21.0310666666667, 105.84719999999993),
            new L.LatLng(21.0372, 105.84701666666706),
            new L.LatLng(21.0411166666667, 105.84961666666698),
            new L.LatLng(21.042352, 105.87044600000002),
            new L.LatLng(21.0497, 105.883467),
            new L.LatLng(21.048159, 105.87849499999993)
        ];


        var bus_2_r1 = [
          new L.LatLng(20.949979, 105.74761899999999),
          new L.LatLng(20.9520666666667, 105.751216666667),
          new L.LatLng(20.954073, 105.75390100000004),
          new L.LatLng(20.958085, 105.75917900000002),
          new L.LatLng(20.96017, 105.761888),
          new L.LatLng(20.9620333333333, 105.76428333333297),
          new L.LatLng(20.964783333333333, 105.76778333333334),
          new L.LatLng(20.964783333333333, 105.76778333333334),
          new L.LatLng(20.969518, 105.77386000000001),
          new L.LatLng(20.972531, 105.77752499999997),
          new L.LatLng(20.975483333333333, 105.78154999999992),
          new L.LatLng(20.979275, 105.78645400000005),
          new L.LatLng(20.980401, 105.78790000000004),
          new L.LatLng(20.983446, 105.79166199999997),
          new L.LatLng(20.985883, 105.794981),
          new L.LatLng(20.988163, 105.79820700000005),
          new L.LatLng(20.990466666666666, 105.80138333333332),
          new L.LatLng(20.993583333333333, 105.80579999999998),
          new L.LatLng(20.9959333333333, 105.80925000000002),
          new L.LatLng(20.9999166666667, 105.81523333333303),
          new L.LatLng(21.0071333333333, 105.82313333333298),
          new L.LatLng(21.0111, 105.82533333333299),
          new L.LatLng(21.01581, 105.82827500000008),
          new L.LatLng(21.019993, 105.83051899999998),
          new L.LatLng(21.0247833333333, 105.83280000000002),
          new L.LatLng(21.0272, 105.83384999999998),
          new L.LatLng(21.031003, 105.83607499999994),
          new L.LatLng(21.0310333333333, 105.83936666666705),
          new L.LatLng(21.02945, 105.84238333333303),
          new L.LatLng(21.0273833333333, 105.84664999999995),
          new L.LatLng(21.026448, 105.84966600000007),
          new L.LatLng(21.024999, 105.85039699999993),
          new L.LatLng(21.024033, 105.85365999999999),
          new L.LatLng(21.023083333333332, 105.8570666666667),
          new L.LatLng(21.0205666666667, 105.85826666666708),
          new L.LatLng(21.0186, 105.86056666666695),
          new L.LatLng(21.0222333333333, 105.86118333333297),
          new L.LatLng(21.0231833333333, 105.86083333333295)
        ];

        var firstpolyline = new L.Polyline(bus_1_r1, {
            color: 'red',
            weight: 3,
            opacity: 0.5,
            smoothFactor: 3
        });

        firstpolyline.addTo(map);


        $("#bus-number").change(function() {

        var bus_number = $("#bus-number").val();
        var route = eval('bus_' + bus_number + '_r1');

        firstpolyline.setLatLngs(route);

        });
    });
    </script>

</body>

</html>